{"version":3,"file":"useKeyboardNavigableList-JF8ah1-F.js","sources":["../../../app/javascript/shared/helpers/KeyboardHelpers.js","../../../app/javascript/dashboard/composables/useDetectKeyboardLayout.js","../../../node_modules/.pnpm/tinykeys@3.0.0/node_modules/tinykeys/dist/tinykeys.module.js","../../../app/javascript/dashboard/composables/useKeyboardEvents.js","../../../app/javascript/dashboard/composables/useKeyboardNavigableList.js"],"sourcesContent":["export const isEnter = e => {\r\n  return e.key === 'Enter';\r\n};\r\n\r\nexport const isEscape = e => {\r\n  return e.key === 'Escape';\r\n};\r\n\r\nexport const hasPressedShift = e => {\r\n  return e.shiftKey;\r\n};\r\n\r\nexport const hasPressedCommand = e => {\r\n  return e.metaKey;\r\n};\r\n\r\nexport const hasPressedEnterAndNotCmdOrShift = e => {\r\n  return isEnter(e) && !hasPressedCommand(e) && !hasPressedShift(e);\r\n};\r\n\r\nexport const hasPressedCommandAndEnter = e => {\r\n  return hasPressedCommand(e) && isEnter(e);\r\n};\r\n\r\n// If layout is QWERTZ then we add the Shift+keysToModify to fix an known issue\r\n// https://github.com/chatwoot/chatwoot/issues/9492\r\nexport const keysToModifyInQWERTZ = new Set(['Alt+KeyP', 'Alt+KeyL']);\r\n\r\nexport const LAYOUT_QWERTY = 'QWERTY';\r\nexport const LAYOUT_QWERTZ = 'QWERTZ';\r\nexport const LAYOUT_AZERTY = 'AZERTY';\r\n\r\n/**\r\n * Determines whether the active element is typeable.\r\n *\r\n * @param {KeyboardEvent} e - The keyboard event object.\r\n * @returns {boolean} `true` if the active element is typeable, `false` otherwise.\r\n *\r\n * @example\r\n * document.addEventListener('keydown', e => {\r\n *   if (isActiveElementTypeable(e)) {\r\n *     handleTypeableElement(e);\r\n *   }\r\n * });\r\n */\r\nexport const isActiveElementTypeable = e => {\r\n  /** @type {HTMLElement | null} */\r\n  // @ts-ignore\r\n  const activeElement = e.target || document.activeElement;\r\n\r\n  return !!(\r\n    activeElement?.tagName === 'INPUT' ||\r\n    activeElement?.tagName === 'NINJA-KEYS' ||\r\n    activeElement?.tagName === 'TEXTAREA' ||\r\n    activeElement?.contentEditable === 'true' ||\r\n    activeElement?.className?.includes('ProseMirror')\r\n  );\r\n};\r\n","import {\r\n  LAYOUT_QWERTY,\r\n  LAYOUT_QWERTZ,\r\n  LAYOUT_AZERTY,\r\n} from 'shared/helpers/KeyboardHelpers';\r\n\r\n/**\r\n * Detects the keyboard layout using a legacy method by creating a hidden input and dispatching a key event.\r\n * @returns {Promise<string>} A promise that resolves to the detected keyboard layout.\r\n */\r\nasync function detectLegacy() {\r\n  const input = document.createElement('input');\r\n  input.style.position = 'fixed';\r\n  input.style.top = '-100px';\r\n  document.body.appendChild(input);\r\n  input.focus();\r\n\r\n  return new Promise(resolve => {\r\n    const keyboardEvent = new KeyboardEvent('keypress', {\r\n      key: 'y',\r\n      keyCode: 89,\r\n      which: 89,\r\n      bubbles: true,\r\n      cancelable: true,\r\n    });\r\n\r\n    const handler = e => {\r\n      document.body.removeChild(input);\r\n      document.removeEventListener('keypress', handler);\r\n      if (e.key === 'z') {\r\n        resolve(LAYOUT_QWERTY);\r\n      } else if (e.key === 'y') {\r\n        resolve(LAYOUT_QWERTZ);\r\n      } else {\r\n        resolve(LAYOUT_AZERTY);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keypress', handler);\r\n    input.dispatchEvent(keyboardEvent);\r\n  });\r\n}\r\n\r\n/**\r\n * Detects the keyboard layout using the modern navigator.keyboard API.\r\n * @returns {Promise<string>} A promise that resolves to the detected keyboard layout.\r\n */\r\nasync function detect() {\r\n  const map = await navigator.keyboard.getLayoutMap();\r\n  const q = map.get('KeyQ');\r\n  const w = map.get('KeyW');\r\n  const e = map.get('KeyE');\r\n  const r = map.get('KeyR');\r\n  const t = map.get('KeyT');\r\n  const y = map.get('KeyY');\r\n\r\n  return [q, w, e, r, t, y].join('').toUpperCase();\r\n}\r\n\r\n/**\r\n * Uses either the modern or legacy method to detect the keyboard layout, caching the result.\r\n * @returns {Promise<string>} A promise that resolves to the detected keyboard layout.\r\n */\r\nexport async function useDetectKeyboardLayout() {\r\n  const cachedLayout = window.cw_keyboard_layout;\r\n  if (cachedLayout) {\r\n    return cachedLayout;\r\n  }\r\n\r\n  const layout = navigator.keyboard ? await detect() : await detectLegacy();\r\n  window.cw_keyboard_layout = layout;\r\n  return layout;\r\n}\r\n","var t=[\"Shift\",\"Meta\",\"Alt\",\"Control\"],e=\"object\"==typeof navigator?navigator.platform:\"\",n=/Mac|iPod|iPhone|iPad/.test(e),o=n?\"Meta\":\"Control\",r=\"Win32\"===e?[\"Control\",\"Alt\"]:n?[\"Alt\"]:[];function i(t,e){return\"function\"==typeof t.getModifierState&&(t.getModifierState(e)||r.includes(e)&&t.getModifierState(\"AltGraph\"))}function a(t){return t.trim().split(\" \").map(function(t){var e=t.split(/\\b\\+/),n=e.pop(),r=n.match(/^\\((.+)\\)$/);return r&&(n=new RegExp(\"^\"+r[1]+\"$\")),[e=e.map(function(t){return\"$mod\"===t?o:t}),n]})}function u(e,n){var o=n[0],r=n[1];return!((r instanceof RegExp?!r.test(e.key)&&!r.test(e.code):r.toUpperCase()!==e.key.toUpperCase()&&r!==e.code)||o.find(function(t){return!i(e,t)})||t.find(function(t){return!o.includes(t)&&r!==t&&i(e,t)}))}function c(t,e){var n;void 0===e&&(e={});var o=null!=(n=e.timeout)?n:1e3,r=Object.keys(t).map(function(e){return[a(e),t[e]]}),c=new Map,f=null;return function(t){t instanceof KeyboardEvent&&(r.forEach(function(e){var n=e[0],o=e[1],r=c.get(n)||n;u(t,r[0])?r.length>1?c.set(n,r.slice(1)):(c.delete(n),o(t)):i(t,t.key)||c.delete(n)}),f&&clearTimeout(f),f=setTimeout(c.clear.bind(c),o))}}function f(t,e,n){var o=void 0===n?{}:n,r=o.event,i=void 0===r?\"keydown\":r,a=o.capture,u=c(e,{timeout:o.timeout});return t.addEventListener(i,u,a),function(){t.removeEventListener(i,u,a)}}export{c as createKeybindingsHandler,u as matchKeyBindingPress,a as parseKeybinding,f as tinykeys};\n//# sourceMappingURL=tinykeys.module.js.map\n","import {\r\n  isActiveElementTypeable,\r\n  isEscape,\r\n  keysToModifyInQWERTZ,\r\n  LAYOUT_QWERTZ,\r\n} from 'shared/helpers/KeyboardHelpers';\r\nimport { useDetectKeyboardLayout } from 'dashboard/composables/useDetectKeyboardLayout';\r\nimport { createKeybindingsHandler } from 'tinykeys';\r\nimport { onUnmounted, onMounted } from 'vue';\r\n\r\n/**\r\n * Determines if the keyboard event should be ignored based on the element type and handler settings.\r\n * @param {Event} e - The event object.\r\n * @param {Object|Function} handler - The handler configuration or function.\r\n * @returns {boolean} - True if the event should be ignored, false otherwise.\r\n */\r\nconst shouldIgnoreEvent = (e, handler) => {\r\n  const isTypeable = isActiveElementTypeable(e);\r\n  const allowOnFocusedInput =\r\n    typeof handler === 'function' ? false : handler.allowOnFocusedInput;\r\n\r\n  if (isTypeable) {\r\n    if (isEscape(e)) {\r\n      e.target.blur();\r\n    }\r\n    return !allowOnFocusedInput;\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * Wraps the event handler to include custom logic before executing the handler.\r\n * @param {Function} handler - The original event handler.\r\n * @returns {Function} - The wrapped handler.\r\n */\r\nconst keydownWrapper = handler => {\r\n  return e => {\r\n    if (shouldIgnoreEvent(e, handler)) return;\r\n    //  extract the action to perform from the handler\r\n\r\n    const actionToPerform =\r\n      typeof handler === 'function' ? handler : handler.action;\r\n    actionToPerform(e);\r\n  };\r\n};\r\n\r\n/**\r\n * Wraps all provided keyboard events in handlers that respect the current keyboard layout.\r\n * @param {Object} events - The object containing event names and their handlers.\r\n * @returns {Object} - The object with event names possibly modified based on the keyboard layout and wrapped handlers.\r\n */\r\nasync function wrapEventsInKeybindingsHandler(events) {\r\n  const wrappedEvents = {};\r\n  const currentLayout = await useDetectKeyboardLayout();\r\n\r\n  Object.keys(events).forEach(originalEventName => {\r\n    const modifiedEventName =\r\n      currentLayout === LAYOUT_QWERTZ &&\r\n      keysToModifyInQWERTZ.has(originalEventName)\r\n        ? `Shift+${originalEventName}`\r\n        : originalEventName;\r\n\r\n    wrappedEvents[modifiedEventName] = keydownWrapper(\r\n      events[originalEventName]\r\n    );\r\n  });\r\n  return wrappedEvents;\r\n}\r\n\r\n/**\r\n * Vue composable to handle keyboard events with support for different keyboard layouts.\r\n * @param {Object} keyboardEvents - The keyboard events to handle.\r\n */\r\nexport async function useKeyboardEvents(keyboardEvents) {\r\n  let abortController = new AbortController();\r\n\r\n  onMounted(async () => {\r\n    if (!keyboardEvents) return;\r\n    const wrappedEvents = await wrapEventsInKeybindingsHandler(keyboardEvents);\r\n    const keydownHandler = createKeybindingsHandler(wrappedEvents);\r\n\r\n    document.addEventListener('keydown', keydownHandler, {\r\n      signal: abortController.signal,\r\n    });\r\n  });\r\n\r\n  onUnmounted(() => {\r\n    abortController.abort();\r\n  });\r\n}\r\n","/**\r\n * This composable provides keyboard navigation functionality for list-like UI components\r\n * such as dropdowns, autocomplete suggestions, or any list of selectable items.\r\n *\r\n * TODO - Things that can be improved in the future\r\n * - The scrolling should be handled by the component instead of the consumer of this composable\r\n *   it can be done if we know the item height.\r\n * - The focus should be trapped within the list.\r\n * - onSelect should be callback instead of a function that is passed\r\n */\r\nimport { useKeyboardEvents } from './useKeyboardEvents';\r\n\r\n/**\r\n * Wrap the action in a function that calls the action and prevents the default event behavior.\r\n * @param {Function} action - The action to be called.\r\n * @returns {{action: Function, allowOnFocusedInput: boolean}} An object containing the action and a flag to allow the event on focused input.\r\n */\r\nconst createAction = action => ({\r\n  action: e => {\r\n    action();\r\n    e.preventDefault();\r\n  },\r\n  allowOnFocusedInput: true,\r\n});\r\n\r\n/**\r\n * Creates keyboard event handlers for navigation.\r\n * @param {Function} moveSelectionUp - Function to move selection up.\r\n * @param {Function} moveSelectionDown - Function to move selection down.\r\n * @param {Function} [onSelect] - Optional function to handle selection.\r\n * @param {import('vue').Ref<Array>} items - A ref to the array of selectable items.\r\n * @returns {Object.<string, {action: Function, allowOnFocusedInput: boolean}>}\r\n */\r\nconst createKeyboardEvents = (\r\n  moveSelectionUp,\r\n  moveSelectionDown,\r\n  onSelect,\r\n  items\r\n) => {\r\n  const events = {\r\n    ArrowUp: createAction(moveSelectionUp),\r\n    'Control+KeyP': createAction(moveSelectionUp),\r\n    ArrowDown: createAction(moveSelectionDown),\r\n    'Control+KeyN': createAction(moveSelectionDown),\r\n  };\r\n\r\n  // Adds an event handler for the Enter key if the onSelect function is provided.\r\n  if (typeof onSelect === 'function') {\r\n    events.Enter = createAction(() => items.value?.length > 0 && onSelect());\r\n  }\r\n\r\n  return events;\r\n};\r\n\r\n/**\r\n * Updates the selection index based on the current index, total number of items, and direction of movement.\r\n *\r\n * @param {number} currentIndex - The current index of the selected item.\r\n * @param {number} itemsLength - The total number of items in the list.\r\n * @param {string} direction - The direction of movement, either 'up' or 'down'.\r\n * @returns {number} The new index after moving in the specified direction.\r\n */\r\nconst updateSelectionIndex = (currentIndex, itemsLength, direction) => {\r\n  // If the selected index is the first item, move to the last item\r\n  // If the selected index is the last item, move to the first item\r\n  if (direction === 'up') {\r\n    return currentIndex === 0 ? itemsLength - 1 : currentIndex - 1;\r\n  }\r\n  return currentIndex === itemsLength - 1 ? 0 : currentIndex + 1;\r\n};\r\n\r\n/**\r\n * A composable for handling keyboard navigation in mention selection scenarios.\r\n *\r\n * @param {Object} options - The options for the composable.\r\n * @param {import('vue').Ref<HTMLElement>} options.elementRef - A ref to the DOM element that will receive keyboard events.\r\n * @param {import('vue').Ref<Array>} options.items - A ref to the array of selectable items.\r\n * @param {Function} [options.onSelect] - An optional function to be called when an item is selected.\r\n * @param {Function} options.adjustScroll - A function to adjust the scroll position after selection changes.\r\n * @param {import('vue').Ref<number>} options.selectedIndex - A ref to the currently selected index.\r\n * @returns {{\r\n *   moveSelectionUp: Function,\r\n *   moveSelectionDown: Function\r\n * }} An object containing functions to move the selection up and down.\r\n */\r\nexport function useKeyboardNavigableList({\r\n  items,\r\n  onSelect,\r\n  adjustScroll,\r\n  selectedIndex,\r\n}) {\r\n  const moveSelection = direction => {\r\n    selectedIndex.value = updateSelectionIndex(\r\n      selectedIndex.value,\r\n      items.value.length,\r\n      direction\r\n    );\r\n    adjustScroll();\r\n  };\r\n\r\n  const moveSelectionUp = () => moveSelection('up');\r\n  const moveSelectionDown = () => moveSelection('down');\r\n\r\n  const keyboardEvents = createKeyboardEvents(\r\n    moveSelectionUp,\r\n    moveSelectionDown,\r\n    onSelect,\r\n    items\r\n  );\r\n\r\n  useKeyboardEvents(keyboardEvents);\r\n\r\n  return {\r\n    moveSelectionUp,\r\n    moveSelectionDown,\r\n  };\r\n}\r\n"],"names":["isEnter","e","isEscape","hasPressedShift","hasPressedCommand","hasPressedEnterAndNotCmdOrShift","hasPressedCommandAndEnter","keysToModifyInQWERTZ","LAYOUT_QWERTY","LAYOUT_QWERTZ","LAYOUT_AZERTY","isActiveElementTypeable","activeElement","_a","detectLegacy","input","resolve","keyboardEvent","handler","detect","map","q","w","t","y","useDetectKeyboardLayout","cachedLayout","layout","n","o","r","i","a","u","c","f","shouldIgnoreEvent","isTypeable","allowOnFocusedInput","keydownWrapper","wrapEventsInKeybindingsHandler","events","wrappedEvents","currentLayout","originalEventName","modifiedEventName","useKeyboardEvents","keyboardEvents","abortController","onMounted","keydownHandler","createKeybindingsHandler","onUnmounted","createAction","action","createKeyboardEvents","moveSelectionUp","moveSelectionDown","onSelect","items","updateSelectionIndex","currentIndex","itemsLength","direction","useKeyboardNavigableList","adjustScroll","selectedIndex","moveSelection"],"mappings":"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","x_google_ignoreList":[2]}